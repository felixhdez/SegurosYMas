
@{
    ViewBag.Title = "IndexOtros";
}

<link href="~/Content/iCheck/datepicker3.css" rel="stylesheet" />

<div class="wrapper wrapper-content animated fadeInRight">
    <div class="row">
        <div class="col-lg-12">
            <div class="ibox ">
                <div class="ibox-title">
                    <h1 class="text-center">Otros Reportes</h1>
                </div>
                <div class="ibox-content">
                    <br />
                    <div class="row">
                        <div class="col-sm-8 b-r">
                            <div class="form-group">
                                <label>Reporte general</label>
                                <select class="form-control col-md-8" id="general">
                                    <option value="1">Comisiones en C$</option>
                                    <option value="2">Comisiones en $</option>
                                    <option value="3">Primas acumuladas</option>
                                    <option value="4">Sumas aseguradas acumuladas</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Filtro</label>
                                <div class="input-daterange input-group col-md-12" id="datepicker">
                                    <input type="date" class="form-control" id="start" />
                                    <span class="input-group-addon">&nbsp; a &nbsp; </span>
                                    <input type="date" class="form-control" id="end" />
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 text-center">
                            <a onclick="Generar()"><i class="fa fa-file-pdf-o big-icon text-navy"></i></a>
                            <h4 onclick="Generar()">Generar reporte</h4>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script>
        $(document).ready(function () {
            $("#general").select2({ width: "100%" });
            $("#general").change();
        })

        function Generar() {
            if ($("#start").val().trim() && $("#end").val().trim()) {
                var rep1 = $("#general").val();
                var val1 = $("#start").val();
                var val2 = $("#end").val();
                if (rep1 == 1) {
                    window.location.href = "/Reportes/ComisionesC?desde=" + val1 + "&hasta=" + val2;
                }
                else
                    if (rep1 == 2) {
                        window.location.href = "/Reportes/ComisionesD?desde=" + val1 + "&hasta=" + val2;
                    }
                    else
                        if (rep1 == 3) {
                            window.location.href = "/Reportes/PrimasAcumuladas?desde=" + val1 + "&hasta=" + val2;
                        }
                        else
                            if (rep1 == 4) {
                                window.location.href = "/Reportes/SumasAcumuladas?desde=" + val1 + "&hasta=" + val2;
                            }
            }
            else
            {
                swal("Por favor establezca los filtros.", "Seguros & Más", "error");
            }
        };

    </script>
}

